<header>
	<h2>Cadastro de Fotos</h2>
	<h1>{{ foto.titulo }}</h1>
</header>
<hr />
<section class="row">
	<p data-ng-show="mensagem.length" class="alert alert-info">{{ mensagem }}</p>
	
	<form novalidate="novalidate" name="formulario" data-ng-submit="submeter()">
		<div class="col-md-6">
			<div class="form-group">
				<label for="titulo">Título</label>
				<input type="text" name="titulo" data-ng-model="foto.titulo" class="form-control" placeholder="Título da foto" title="Título da imagem" required="required" data-ng-maxlength="20" />
				<span data-ng-show="formulario.$submitted&&formulario.titulo.$error.required" class="form-control alert-danger">
					Título obrigatório
				</span>
				<span data-ng-show="formulario.$submitted&&formulario.titulo.$error.maxlength" class="form-control alert-danger">
					Deve ter no máximo 20 caracteres
				</span>
			</div>
			<div class="form-group">
				<label for="URL">URL</label>
				<input type="url" name="url" data-ng-model="foto.url" value="" class="form-control" placeholder="URL da foto" title="Entre com a URL da nova foto" required="required"/>
				<span data-ng-show="formulario.$submitted&&formulario.url.$error.required" class="form-control alert-danger">
					URL obrigatória
				</span>
			</div>
			<div class="form-group">
				<label for="decricao">Descrição</label>
				<textarea name="descricai" id="descricao" data-ng-model="foto.descricao" cols="30" rows="10" class="form-control" placeholder="Descrição da foto" title="Entre com a descrição da foto" ></textarea>
			</div>
			<div class="form-group">
				<label for="grupo">Grupo</label>
				<select name="grupo" id="grupo" class="form-control" 
				data-ng-controller="GruposController"
				data-ng-model="foto.grupo"
				data-ng-options="grupo._id as (grupo.nome | uppercase) for grupo in grupos">
					<option value="">Selecione Grupo</option>
				</select>
				<span data-ng-show="formulario.$submitted&&formulario.grupo.$error.required" class="form-control alert-danger">
					Grupo obrigatório
				</span>
			</div>
			<button type="submit" class="btn btn-primary" title="Salvar a foto" data-ng-disabled="formulario.$invalid">
				Salvar
			</button>
			<a href="/" class="btn btn-default" title="Voltar para a tela principal" meu-focus >
				Voltar
			</a>
		</div>
		<div class="col-md-6">
			<minha-foto url="{{ foto.url }}" titulo="{{ foto.titulo }}">
			</minha-foto>
		</div>
	</form>
</section>